.. _dosimetry_equipment:

Дозиметрическое оборудование
============================

IBA myQA
--------

Полная установка включает ряд стандартных около системных продуктов.
Из существенного:

- MS SQL Server 2016  (полная установка)
- MATLAB Runtime 9.0.

Основная версия отделения устанавливается на компьютере **w66-ecl-08**.


Калибровка матрицы
------------------

На рабочем столе ПК находим приложение *MyQA* и кликаем по ярлыку дважды. В верхнем левом углу, если выбрано *MyQA Patients* кликаем
и выбираем *MyQA Platform*. В списке устройств находим и кликаем по *MatriXX*, затем *Edit* и *Connect*.

Для проведения калибровки по конкретной энергии для определенного ускорителя нажимаем *New outout calibration* (если не был проведен
набор фона - матрица запросит его набрать, соглашаемся). Выбираем на каком ускорителя будет производится калибровка и вводим
необходимое значение мониторных единиц (MU), полученное раннее при проведении дозиметрии для твердой воды. Также указываем
измеренные в помещении ускорителя значения температуры и давления. Нажимаем *start* и отпускаем пучок с ускорителя (поле 10х10).
Когда пучок заканчивается останавливаем измерение. Повторяем измерение еще 1-2 раза для лучшей точности. В описании калибровки
указываем ускоритель и энергию для которой производилась калибровка (для FFF полей калибровку проводим также для различных MU/min и указываем
их в описании). Нажимаем *Finish*.






BeamChecker
-----------

Референсный план BeamCheckerPlan
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Референсный план для утренних проверок показан на рисунке
:numref:`(Рис. %s) <_beamchecker_plan-figure>`.

В Eclipse план идентифицируется по следующим параметрам:

- *Patient ID*: **2370005**
- *Last Name*: **Phantom**
- *First Name*: **BeamChecker**

.. figure:: images/BeamCheckerPlan.png
    :name: _beamchecker_plan-figure
    :align: center
    :width: 100%
    :figclass: align-center

    План облучения *BeamChecker*, используемый при открытии файла уренних проверок

Проведение утренних измерений
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Измерения проводить в режиме ускорителя **Physics QA**.

   Открыть план:
   
   .. code-block:: none
   
       I:/
   
#. Важно устанавливать прибор по лазерм как показано на фотографии
   :numref:`(Рис. %s) <_beamchecker_setup-figure>`.

   .. figure:: images/BeamCheckerSetup.png
       :name: _beamchecker_setup-figure
       :align: center
       :width: 50%
       :figclass: align-center
   
       Установка BeamChecker при утренних проверках по риске на боковой поверхности прибора

#. Выбрать на приборе режим

#. Пример состояния при успешном измерении.


Политика обработки результатов
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

На ускорителях *TrueBeam* проверка энергий производится по недельному графику.
Конкретный график содержится в специальной форме контроля проведения утренних проверок.

Если измерения не попадают в коридор толерантных уровней, то прибор сигнализирует об этом.
Аппарат в тако случае не допускается к лечению до выяснения причин силами експертов медицинских физиков.
В формах делаются отметки и выполнении процедуры. Результаты измеренийсохраняются в приборе.
Их выгрузка в компьютерную базу данных производится один раз в неделю в понедельни утром 
ответвственным медицинским физиком.

Ответственный медицинкий физик анализирует текущие данные качественно проходя по всем энергиям и наблюдая за тенденциями.
Ежеквртально гоовится формальный отчет с обзором состяния и тенденциями в калибровке ускорителей по всем энергиям.

База данных
~~~~~~~~~~~

Представлена единственным файлом базы данных *MS ACCESS* **Daily_QA.mdb**.
Доступ к ней защищен паролем **7601**.
Базу данных можно переносить с компьютера на компьютер. 
Но это следует делать только в целях просмотра.
Загрузка данных из приора в компьютер должна производиться только содним компьютером,
с помощью которого производились измерения.

.. note:: Имя референсного компьютера для *BeamChecker* hostame: **w66-ecl-08**.



Полезные ссылки
~~~~~~~~~~~~~~~

- https://help.imageowl.com/hc/en-us/articles/1500009757421-Connecting-Standard-Imaging-QA-Beam-Checker-Plus-QABC-







Dynamic platform
----------------

Для начала работы с *Dynamic platform* необходимо установить софт 
с USB-носителя идущего в комплекте. Вставляем его в ПК, который планируется испльзовать для работы с платформой:

- Из папки USB-to-Network Adapter устанавливаем драйвера для использования переходника USB-Ethernet (В папке находим установщик *Setup.exe* и кликаем два раза);
- Из папки InstallTrioPCMotion_2_12_0 устанавливаем софт TrioPCMotion;
- Из папки MotionControl.Setup_V2.7.7 устанавливаем софт MotionControl (дважды кликаем по *setup.exe*).

Подключаем соответствующие кабеля аппарата к соответствующим гнездам, только потом подключаем питание.
Затем подключаем Ethernet кабель к платформе, а оставшийся конец к переходнику USB-Ethernet и вставляем его в используемый ПК 
в USB-порт. На компьютере открываем *Параметры* -> *Сеть и интернет* -> *Настройка параметров адаптера* и находим
там новое проводное подключение *ASIX ... Gigabit*, кликаем правой кнопкой мыши и заходим в *Свойства*. Находим протокол *IPv4*
и кликаем дважды. В открывшемся окне выбираем *Использовать следующий IP адрес* и вводим следующий IP адрес: 192.168.0.101.
При нажатии на поле "Маска подсети" автоматически должно заполниться 255.255.255.0. Нажимаем "ОК". Для проверки
подключения открываем командную строку (командную строку можно открыть так: Win+R и написать в открывшемся окне *cmd*
и нажать *Enter*) и прописываем там *ping 192.168.0.101*. Если статистика по этому IP адресу будет получена - все настроено
верно. На рабочем столе кликаем дважды по создавшемуся ярлыку *CIRS Motion Control* - можно задавать
траекторию движения и работать с устройством!