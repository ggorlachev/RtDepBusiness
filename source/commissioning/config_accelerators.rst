.. _config_accelerators:

Конфигурация ускорителей
========================

Архитектура конфигурации
------------------------

Старт конфигурации начинается с 
`руководства администратора по аппаратам <./data/varian/TrueBeam_Administrators_Guide.pdf>`_.

Конфигурация осуществляется в сервисном приложении главного меню консоли,
там же, где происходит работа с железом.

.. note:: В документации присутствует понятие **Customer HASP Authentication**
          (Hardware Against Software Piracy (**HASP**) key) опция.
          Она предоставляет доступ к документации и некоторым инструментам.

          **Q:** От чего зависит наличие этого ключа. 
          Почему его нет у нас и можем ли мы его как-то получить?

На этом этапе создается описание терапевтического оборудования,
которое в дальнейшем используется и в конфигурации Eclipse.
Логика Varian такова, что конфигурация оборудования относится 
к глобальной настройке комплекса ассоциируемой с настройкой информационной системы ARIA.
Eclipse часть параметров может настраивать по себя выдавая сбивающие с толку предупреждения.
Детали этой логики будут рассматриваться в конфигурации Eclipse, 
та как это следует рассматривать как его проблему.

.. todo::
    
  #. Проработать все разделы сервисного режима, идентифицировать текущие настройки, 
     понять что редактируемо нами и откуда берется то что есть 
     (т.е. где первоисточник редактирования настроек).
  #. Выяснить, где хранится конфигурация радиотерапевтической установки.
     Хранится ли она на компьютере самой установки или на сервере.
     Почему при отсутствии соединения с сервером TrueBeam отказывается 
     принимать логин пользователя и не работает, а Halcyon при этом позволяет работать? 

Конфигурация ускорителя
-----------------------

Конфигурация ускорителя осуществляется в трех местах (модах).

.. todo::
    
  #. Похоже вся конфигурация происходит в сервисном режиме. Завтра стартовать работу с изучения оного.
  #. Конфигурация на консольном компьютере но не факт, что в консольном режиме. 
     Фигурирует **Major Mode menu**, в котором нужно выбрать **System Administration**.
  #. Судя по руководству в этом месте прописывается множество нюансов, 
     которые как-то нужно задокументировать в виде screenshots, если нет какого-то исчерпывающего Report.


Администрирование системы
~~~~~~~~~~~~~~~~~~~~~~~~~


Сервисный режим
~~~~~~~~~~~~~~~

Калибровка изображений
~~~~~~~~~~~~~~~~~~~~~~


Калибровка систем ускорителя
----------------------------


Файловая система
----------------

Varian широко использует разделяемы папки в работе комплекса.

Основным местом обмена данными с радиотерапевтическим оборудованием 
являются разделяемые основным сервером папки в следующем месте:

.. code-block:: none

    \\m66-vcom-01\va_transfer\TDS\<machineID>\*

Для каждого аппарата заведена большая файловая структура с относительно стандартной системой.
Смысл каждой папки понятен из контекста.
В частности аппараты сохраняют данные типа результатов тестирования, 
программы разного рода тестов, планы для верификации и т.д.
И просто обмен файлами по потребностям пользователя.
Именно здесь следует размещать файлы для поддержки системы качества.

.. todo::
    
  #. Проверить действительно ли вся конфигурация содержится в файловой системе
     или что-то хранится в базах данных SQL.
  #. Посмотреть файловую структуру разделяемых папок и составить мнение о содержании, 
     возможности использования и необходимого обслуживания.

Вопросы для осмысления и решения
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. todo::

  #. На стр.48 говорится о **Radiation Dose Structured Report (RDSR) Storage Installation**.
     **RDSR** это некая система учета лучевой нагрузки от **CBCT**. 
     Ее конфигурация каким-то образом связана с конфигурацией сервисов **DICOM**.
     Вся эта тема - предмет для отдельного разбирательства.
  #. 

